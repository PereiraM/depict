#!/usr/bin/env node

var child_process = require('child_process');
var optimist = require('optimist');

var argv = optimist
  .usage('Usage: depict FILE')
  .options('h', {
    alias: 'help',
    describe: 'Display help',
    default: false
  })
  .check(function(argv) {
    //if (argv._.length !== 1) throw new Error('FILE must be given.');
  })
  .argv;

if (argv.h || argv.help) return optimist.showHelp();

var args = [process.cwd() + '/src/depict-casperjs.js', 'http://www.nytimes.com/interactive/2013/07/07/business/a-nation-of-wineries.html', '.g-us-map-grid', 'wine.png'];

casper = child_process.spawn('casperjs', args);

casper.stdout.on('data', function(data) {
    process.stdout.write(data);
});

